<!DOCTYPE html>
<html>
  <head>
    <title>connecTarot</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca&family=Lexend+Giga&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Macondo&display=swap" rel="stylesheet">
  </head>

  <body>
    <div class="container">
      <header>
        <nav>
          <div class="navigation">
          <span class="nav-logo"><%= link_to "connecTarot", root_path %></span>
          <% if logged_in? %>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "Request", requests_path %></span>
              <div class="dropdown-content">
                <%= link_to_unless_current "View Requests", requests_path %><br>
                <%= link_to_unless_current "New Request", new_request_path %><br>
              </div>
            </div>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "Cards", cards_path %></span>
              <div class="dropdown-content">
                <%= link_to_unless_current "All Cards", cards_path %><br>
              </div>
            </div>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "My Tarot", user_entries_path(current_user) %></span> 
              <div class="dropdown-content">
                <%= link_to_unless_current "My Page", user_entries_path(current_user) %><br>
                <%= link_to_unless_current "Account", edit_user_path(current_user) %><br>
                <%= link_to_unless_current "New Reading", new_user_entry_path(current_user.id) %>
              </div>
            </div>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "Logout", logout_path, method: "delete" %></span>
              <div class="dropdown-content-logout">
                You are logged in as:<br><%= current_user.name %>
              </div>
            </div>
          <% else %>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "Sign Up", new_user_path %></span> 
              <div class="dropdown-content-login">
                <%= link_to_unless_current "Signup form", new_user_path %><br>
                <%= link_to_unless_current "use Facebook", "/auth/facebook" %><br>
                <%= link_to_unless_current "use Github", "/auth/github" %>
              </div>
            </div>
            <div class="dropdown">
              <span class="nav-text"><%= link_to_unless_current "Login", login_path %></span>
              <div class="dropdown-content-login">
                <%= link_to_unless_current "Login form", login_path %><br>
                <%= link_to_unless_current "use Facebook", "/auth/facebook" %><br>
                <%= link_to_unless_current "use Github", "/auth/github" %>
              </div>
            </div>
          <% end %>
          </div>
        </nav>
      </header>

      <main>
        <%= yield %>
      </main>
      
    </div>
  </body>

  <footer>
    <p>Created by Doug Schallmoser - <a id="github" href="https://github.com/dougschallmoser" target="_blank">github.com/dougschallmoser</a></p>
  </footer>
  
</html>
